---
title: "Variable aleatoria"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Introducción teórica.

Sea $(\Omega, \mathcal{A}, P)$ un espacio de probabilidad, una **variable aleatoria** es una función $X:\, \Omega \longrightarrow \mathbb{R}$ **medible**, es decir, para todo subconjunto $B\subseteq \mathbb{R}$ resultante de una unión e intersección numerable de intervalos abiertos o cerrados (*boreliano*) se tiene que $X^{-1} (B) \in \mathcal{A}$. El rango una variable aleatoria es su imagen visto como una función, $R_X = \{ x\in\mathbb{R} \,\mid \, \exists \omega \in \Omega : X(\omega) = x \}$. El formalismo de las variables aleatorias permite resumir eventos en igualdades y desigualdades descritas mediante la variable aleatoria.

Dada una variable aleatoria $X$ su **función de distribución** $F:\, \mathbb{R} \longrightarrow [0,1]$ se define como: 

$$ F(x) = P(X\leq x) $$

**Proposición**: Si $F:\, \mathbb{R} \longrightarrow [0,1]$ es una función monótona no decreciente y continua por la derecha, entonces $F$ es la función de distribución de alguna variable aleatoria.

Dada una variable aleatoria *discreta* $X$ su **función de densidad** $f:\, \mathbb{R} \longrightarrow \mathbb{R}$ se define como:

$$ f(x) = P(X=x) $$

**Proposición**: Dada una variable aleatoria *discreta* $X$ con función de distribución $F$ y función de densidad $f$, entonces:

* $F(x) = \sum _{t\leq x} f(t)$

* $f(x) = F(x) - F(x-1)$

* $\sum _{-\infty} ^\infty f(t) = 1$

Dada una variable aleatoria *absolutamente continua* $X$ con distribución $F$, su **función de densidad** $f:\, \mathbb{R} \longrightarrow \mathbb{R}$ se define como:

$$ f(x) = F'(x) $$

**Proposición**: Dada una variable aleatoria *absolutamente continua* $X$ con función de distribución $F$ y función de densidad $f$, entonces:

* $F(x) = \int _{-\infty} ^x f(t) dt$

* $f(x) = \frac{d}{dx}F(x)$

* $\int _{-\infty} ^\infty f(t) dt = 1$

## Ejercicios

Calcula la función de distribución de $X=$ "Nº obtenido al lanzar un dado" y represéntala gráficamente.

```{r}
Fx = function(x){
  if(x < 1){
    # ?????
  }else if(x < 2){
    # ?????
  }else if(x < 3){
    # ?????
  }else if(x < 4){
    # ?????
  }else if(x < 5){
    # ?????
  }else if(x < 6){
    # ?????
  }else{
    # ?????
  }
}
#Fx = Vectorize(Fx)      # Necesitamos vectorizar
#x = seq(-4,10,by=0.01)  # El dominio de la función es (-inf, inf)
#y = Fx(x)               # Imágen de la función
#plot(x,y,type = "l")    # Plot rápido
```

Calcula la función de densidad de $X=$ "Nº obtenido al lanzar un dado" y represéntala gráficamente.

```{r}
fx = function(x){
  #ifelse(x %in% 1:6, ???? , 0)
}
#x = 1:6               # Rango de la variable
#y = fx(x)             # Probabilidades
#plot(x,y,type = "h")  # Plot rápido
```

Calcular la función de densidad de $X=$ "nº de caras obtenidas al lanzar 100 monedas" y represéntala gráficamente.

```{r}
fx = function(x){
  #ifelse(x %in% 0:100, ???? , 0)
}
#x = 0:100             # Rango de la variable
#y = fx(x)             # Probabilidades
#plot(x,y,type = "h")  # Plot rápido
```

Determina la función de distribución de la anterior variable aleatoria y determina las siguientes probabilidades.

```{r}
Fx = function(x){
  sum(fx(0:x))
}

# P(40 <= X <= 60)
# ?????

# P(40 <= X < 60)
# ?????

# P(40 < X < 60)
# ?????
```

Sea $T$ una variable aleatoria con función de densidad:

$$ f(t) = \begin{cases} ce^{-\frac{t}{5}} & \text{ si } t > 0 \\
 0 & \text{ en otro caso}
\end{cases} $$

Determina $c$ y calcula las probabilidades $P(T > 5)$ y $P(2 < T < 3)$.

```{r}
#c = ???? # Calculamos c de la igualdad: Integral f(t)dt = 1

# Función de distribución calculada a partir de f(t) integrando.
Ft = function(t){
  if (t <= 0){
    0
  }else{
    # ?????
  }
}

# P(T > 5)
# ?????

# P(2 < T < 3)
# ?????
```